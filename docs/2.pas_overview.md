# PAS (Pivotal Application Service)


- PCF 2.6 - Technical Overview

https://docs.google.com/presentation/d/1_7j31dSXmo8G_KPXW3F5akN_Gy_ZhZ5uAOh_zKdqfJE/edit#slide=id.g2732ffd5a8_0_1283

- Pivotal Demo

https://docs.google.com/presentation/d/1KmtO9q5CFzitYRSrt2bhqAFzFHKeE9F31IhH9H7zB6I/edit#slide=id.g32bb85b49a_0_765



### Application Deployment

#### Simple Nodejs
```bash
mkdir myNodeApp
cd myNodeApp
npm init
# entry : app.js
npm install -s express
# edit package.json for npm start script
# add "start" : "node ./app.js"
```
- app.js 
```javascript
const express = require('express')
const app = express()
const port = 8080

app.get('/', (req, res) => res.send('Hello World!'))

app.listen(port, () => console.log(`Example app listening on port ${port}!`))
```

- Deploy application to PAS with CF
```
cf push helloworld-nodejs
cf app helloworld-nodejs
cf logs helloworld-nodejs --recent
```

#### Simple Spring Boot
- Open IDE
- Create New Spring Boot Application
- add RestController & RequestMapping
- Deploy Spring Boot Application to PAS
```bash
cf push helloworld
```

### Scale / Auto Scaling
- Scale
```
cf scale helloworld -i 2
```
- Auto Scaling
  - Open Apps Manager
    - Apps : AutoScale
      - Scaling Rules : CPU/HTTP Throughtput/Container Memory/Compare with Metric
      - Scheduled Limits : Configure Date/Time/Repeat

### Log / Metrics / Distributed Tracing
- Logging with CLI
```bash
cf logs helloworld --recent
```

- Logging with Metrics
  - Open Apps Manager
    - Click "View the metrics"